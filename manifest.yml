---
applications:
  - name: cf-llama-chat
    memory: 1G
    instances: 1
    path: target/cf-llama-chat-1.0.0-SNAPSHOT.jar
    buildpacks:
      - java_buildpack_offline
    env:
      JBP_CONFIG_OPEN_JDK_JRE: '{ jre: { version: 21.+ } }'
      SPRING_PROFILES_ACTIVE: cloud
      APP_AUTH_SECRET: changeme
    services:
      - chat-db
      - chat-llm
      - gpt-oss-120b
      - cf-llama-sso
    routes:
      - route: cf-llama-chat.apps.internal
