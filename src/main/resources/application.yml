spring:
  application:
    name: cf-llama-chat

  datasource:
    url: jdbc:h2:mem:chatdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: sa
    password:

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    properties:
      hibernate:
        format_sql: true
    database-platform: org.hibernate.dialect.H2Dialect

  h2:
    console:
      enabled: true
      path: /h2-console

  ai:
    openai:
      api-key: ${OPENAI_API_KEY:}
      chat:
        options:
          model: ${OPENAI_MODEL:gpt-4o-mini}
          temperature: 0.7
    ollama:
      base-url: ${OLLAMA_BASE_URL:http://localhost:11434}
      chat:
        options:
          model: ${OLLAMA_MODEL:llama3.2}
          temperature: 0.7

  thymeleaf:
    cache: false

server:
  port: ${PORT:8080}

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always

app:
  chat:
    default-provider: ${CHAT_PROVIDER:openai}
    system-prompt: |
      You are a helpful, harmless, and honest AI assistant. You provide clear,
      accurate, and thoughtful responses. When you don't know something, you
      say so. You format your responses using Markdown when appropriate.
  auth:
    secret: ${APP_AUTH_SECRET:}
    require-invitation: ${APP_REQUIRE_INVITATION:false}
